---
title: 大二校企合作总结
date: 2017-03-22 15:50:14
tags: 生活
categories: 生活
---

### 把困难的是事情最小化，分解成自己可以解决的步骤
###### 这是大二上学期的寒假，留校参加学校与澳氏企业的培训。从早晨8点到晚上9点不间断的20天左右。

###### 一开始确实挺艰难的，全部的英文的论文，让我知道了英语确实是很重要的，我的英语底蕴确实
要提高很多。第一次接触python，第一次用前端驱动做项目，第一次连续熬夜到凌晨3点。

###### 现在，总结一下吧，校企合作期间也很长时间没有写博客了。
###### 英语很重要，很重要很重要！今年6月份的6级要考480以上！！

###### 从零开始做的python，因为要处理很多数据(52w)，一开始想着用matlab做，但是为了挑战一下自己还是选择了python，因为以前没有做过类似于嵌入式的开发，所以很难着手。串口连接，处理图形，生成可执行文件等等。自己一点点查文档，要做一些波形的处理，要算一下功率谱密度(psd)......

###### 一开始只是用lebview计算数据，自己也采集了很多组数据，跟参考专利基本一致。
###### 当然，在做完这些时，确实自己做的程序存在数据不准确的情况，自己也找出了bug所在，就是因为调用plt.psd()时，窗口(应该为blackman)没有选对。导致了数据出错，以为在这一步骤的后面还有大量的计算公式，例如要归一化，算出SFM(踝肱指数)，要算CI等。

###### 离校答辩的时间也很近了，数据还是不准确，所以自己决定采用数据更准确的lebview计算，lebview自己也没有接触过，所以又得熬夜打通lebview的程序。总的来说分成两大块，串口通信和处理数据。串口通信程序按照文档还有网上搜集的大神的程序总算写出来了，但是还是遇到了监听不到串口的情况。把我自己写的lebview程序拿给老师看，老师那边确确实实可以监听到串口。自己很纳闷，仔细分析了自己的电脑跟老师的电脑的差异，一开始是怀疑自己的lebview版本的问题，因为我用的是2012版本的，但是现在最新的已经出到了2016。这只是怀疑，其实这次项目学到的最主要的还是一开始的那句话。仔细想想版本没有问题，自己没有DAQ驱动，因为这个驱动是数据采集驱动，自己也确实没有装过，安装好DAQ驱动后，确实可以监听到串口的数据了

###### 监听到串口的数据，处理数据这一方面就比较简单了。在这之后，我跟小组成员测试数据并不准确，程序这方面90%的可能是没有错误，找来找去是做电工的同学的电路AD转化的问题。因为，这个项目要求采集速率很高要20k/s，可是AD转化的速率只有800/s，远远达不到这个要求。这边问题其实还是挺大的，采集出来的数据并不准确。所以我们决定还是程序这边每隔5ms监听串口采集数据。因为这样也并不改变采集出来的波形的数学特性，就大大减少了点的个数，但是这样必须得严格控制采样的时间，减少数据的波动。

###### 前端驱动，这个就对于我而言就很简单了，自己也学了很长时间的node，处理波形也可以调用chartjs。但是由于自己决定放弃采用python采集数据处理，所以自己老早写完就搁置在那里了(那时候AD转化和放大电路没有完成)。