---
title: 小程序自动登录问题
date: 2018-10-12 15:19:48
tags: 小程序
---

### 问题出现
###### 小程序登录改了又改, 改了又改, 感觉有的对于前端人员很不友好。 比如当用户进入小程序时, 想要自动获取用户信息, 不点击获取用户信息的按钮

###### 然而不能像h5一样, 当页面加载采用模拟点击隐形按钮的方法, 看一下文档, 呵呵了

### 折中方法

###### wxml
	<button class="login"  wx:if="{{!hasUserInfo && canIUse}}" open-type="getUserInfo" 		bindgetuserinfo="getUserInfo">
  	</button> 

###### wxss
	page{
	  height: 100%;
	  position: relative;
	}
	.login{
	  display: flex;
	  width: 100%;
	  height: 100%;
	  position: absolute;
	  left: 0;
	  top: 0;
	  z-index: 100 !important;
	  background: blue;
	  opacity:0;
	}

###### 将button置于顶层透明度为0, 用户点击时会跳出